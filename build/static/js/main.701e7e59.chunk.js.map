{"version":3,"sources":["components/containers/GenerateMap.jsx","components/containers/SearchMarket.jsx","store/action/alertAction.js","store/action/types.js","store/action/marketAction.js","components/pages/LandingPage.jsx","store/action/authAction.js","components/containers/Alert.jsx","components/pages/Login.jsx","components/pages/NotFound.jsx","components/containers/Nav.jsx","components/pages/AddMarket.jsx","components/pages/Market.jsx","components/pages/DetailsMarket.jsx","components/routes/PrivateRoute.jsx","components/routes/Routes.jsx","components/utils/setAuthToken.js","store/reducer/authReducer.js","store/reducer/alertReducer.js","store/reducer/marketReducer.js","store/reducer/index.js","store/store.js","App.js","index.js"],"names":["GenerateMap","marketLoaded","mapContainerRef","useRef","fetchData","useCallback","map","mark","type","geometry","coordinates","location","properties","marketName","name","icon","useEffect","results","mapboxgl","accessToken","Map","container","current","style","zoom","center","addControl","NavigationControl","on","a","addSource","data","features","addLayer","id","source","layout","remove","className","ref","width","height","borderRadius","SearchMarket","filterMarket","useSelector","state","market","key","_id","to","returnError","status","msg","payload","message","returnSuccess","fetchMarket","dispatch","axios","get","res","response","LandingPage","useState","setName","useDispatch","error","onSubmit","e","preventDefault","placeholder","onChange","target","value","loadUser","console","log","Alert","Login","history","setMessage","email","setEmail","password","setPassword","auth","alert","isAuthenticated","isLoading","push","sendOption","config","headers","body","JSON","stringify","post","disabled","NotFound","pathname","Nav","onClick","AddMarket","address","setAddress","description","setDescription","image1","setImage1","image2","setImage2","image3","setImage3","marketLoading","formData","FormData","append","getAll","htmlFor","files","Market","handleDelete","delete","deleteMarket","deleting","DetailsMarket","match","params","singleMarket","fetchSingleMarket","formattedAddress","image","index","src","url","alt","React","memo","Component","component","rest","token","render","props","Routers","exact","path","setAuthToken","defaults","localStorage","removeItem","initState","getItem","user","initialState","combineReducers","action","setItem","filter","item","search","toLowerCase","middleWare","thunk","composeEnhances","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","App","Routes","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.701e7e59.chunk.js","sourcesContent":["import React, { useEffect, useRef, useCallback } from 'react'\r\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl.js'\r\n\r\nconst GenerateMap = ({ marketLoaded }) => {\r\n  const mapContainerRef = useRef(null)\r\n\r\n  const fetchData = useCallback(() => {\r\n    return marketLoaded.map((mark) => {\r\n      return {\r\n        type: 'Feature',\r\n        geometry: {\r\n          type: 'Point',\r\n          coordinates: [\r\n            mark.location.coordinates[0],\r\n            mark.location.coordinates[1]\r\n          ]\r\n        },\r\n        properties: {\r\n          marketName: mark.name,\r\n          icon: 'shop'\r\n        }\r\n      }\r\n    })\r\n  }, [marketLoaded])\r\n\r\n  useEffect(() => {\r\n    const results = fetchData()\r\n    mapboxgl.accessToken = 'pk.eyJ1Ijoic2FtYWRvciIsImEiOiJja2FleWtoM3MyNHl4MnpwNGVldXBlbm9xIn0.hGo-e-FNZ_1tijtWyQT_xA'\r\n    const map = new mapboxgl.Map({\r\n      container: mapContainerRef.current,\r\n      style: 'mapbox://styles/mapbox/streets-v11',\r\n      zoom: 9,\r\n      center: [3.361881, 6.672557]\r\n    })\r\n\r\n    // add navigation control (zoom buttons)\r\n    map.addControl(new mapboxgl.NavigationControl(), 'bottom-right')\r\n    // load map from stores\r\n    map.on('load', async () => {\r\n      map.addSource('point', {\r\n        type: 'geojson',\r\n        data: {\r\n          type: 'FeatureCollection',\r\n          features: results\r\n        }\r\n      })\r\n      map.addLayer({\r\n        id: 'points',\r\n        type: 'symbol',\r\n        source: 'point',\r\n        layout: {\r\n          'icon-image': '{icon}-15',\r\n          'icon-size': 1.5,\r\n          'text-field': '{marketName}',\r\n          'text-font': ['Open Sans Semibold', 'Arial Unicode MS Bold'],\r\n          'text-offset': [0, 0.9],\r\n          'text-anchor': 'top'\r\n        }\r\n      })\r\n    })\r\n\r\n    // clean up on unmount\r\n    return () => map.remove()\r\n  }, [fetchData])\r\n\r\n  return (\r\n    <div className='my-5'>\r\n      <div\r\n        ref={mapContainerRef}\r\n        style={{ width: '100%', height: '500px', borderRadius: '5px' }}\r\n      />\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default GenerateMap\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst SearchMarket = () => {\r\n  const {\r\n    market: { filterMarket }\r\n  } = useSelector((state) => {\r\n    return {\r\n      market: state.market\r\n    }\r\n  })\r\n  return (\r\n    <>\r\n      <ul className='list-unstyled list-group list-group-flush container'>\r\n        {filterMarket &&\r\n          filterMarket.map((market) => {\r\n            return (\r\n              <li key={market._id} className='list-group-item'>\r\n                <Link to={`/details/${market._id}`}>{market.name}</Link>\r\n              </li>\r\n            )\r\n          })}\r\n      </ul>\r\n    </>\r\n  )\r\n};\r\n\r\nexport default SearchMarket\r\n","import {\r\n  ALERT_SUCCESS,\r\n  ALERT_ERROR,\r\n  CLEAR_ERROR\r\n} from './types'\r\n\r\nexport const returnError = (status, msg, id = null) => {\r\n  return {\r\n    type: ALERT_ERROR,\r\n    payload: {\r\n      status,\r\n      msg: msg.message,\r\n      id\r\n    }\r\n  }\r\n}\r\n\r\nexport const returnSuccess = (status = 200, msg, id = null) => {\r\n  return {\r\n    type: ALERT_SUCCESS,\r\n    payload: {\r\n      status,\r\n      msg: msg.message,\r\n      id\r\n    }\r\n  }\r\n}\r\n\r\nexport const clearError = () => {\r\n  return {\r\n    type: CLEAR_ERROR\r\n  }\r\n}\r\n","// auth\r\nexport const USER_LOADED = 'USER_LOADED'\r\nexport const USER_LOADING = 'USER_LOADING'\r\nexport const ALL_USER_LOADED = 'ALL_USER_LOADED'\r\nexport const ALL_USER_LOADING = 'ALL_USER_LOADING'\r\n\r\nexport const AUTH_REGISTER = 'AUTH_REGISTER'\r\nexport const AUTH_LOGIN = 'AUTH_LOGIN'\r\nexport const AUTH_ERROR = 'AUTH_ERROR'\r\nexport const REGISTER_FAIL = 'REGISTER_FAIL'\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL'\r\nexport const RESET_STATE = 'RESET_STATE'\r\n\r\nexport const LOG_OUT = 'LOG_OUT'\r\nexport const DELETE_USER = 'DELETE_USER'\r\n\r\nexport const LOAD_REQUEST = 'LOAD_REQUEST'\r\n\r\nexport const DELETE_MARKET_REQUEST = 'DELETE_MARKET_REQUEST'\r\nexport const FETCH_MARKET = 'FETCH_MARKET'\r\nexport const ADD_MARKET = 'ADD_MARKET'\r\nexport const DELETE_MARKET = 'DELETE_MARKET'\r\nexport const FETCH_MARKET_ERROR = 'FETCH_MARKET_ERROR'\r\nexport const ADD_MARKET_ERROR = 'ADD_MARKET_ERROR'\r\nexport const DELETE_MARKET_ERROR = 'DELETE_MARKET_ERROR'\r\nexport const FETCH_SINGLE_MARKET = 'FETCH_SINGLE_MARKET'\r\nexport const FETCH_SINGLE_MARKET_ERROR = 'FETCH_SINGLE_MARKET_ERROR'\r\nexport const FILTER_MARKET = 'FILTER_MARKET'\r\n\r\nexport const CLEAR_ERROR = 'CLEAR_ERROR'\r\nexport const ALERT_SUCCESS = 'ALERT_SUCCESS'\r\nexport const ALERT_ERROR = 'ALERT_ERROR'\r\n","import axios from 'axios'\r\nimport {\r\n  FETCH_MARKET,\r\n  ADD_MARKET,\r\n  DELETE_MARKET,\r\n  LOAD_REQUEST,\r\n  FETCH_MARKET_ERROR,\r\n  ADD_MARKET_ERROR,\r\n  DELETE_MARKET_ERROR,\r\n  DELETE_MARKET_REQUEST,\r\n  FILTER_MARKET,\r\n  FETCH_SINGLE_MARKET,\r\n  FETCH_SINGLE_MARKET_ERROR\r\n} from './types'\r\nimport {\r\n  returnError,\r\n  returnSuccess\r\n} from './alertAction'\r\n\r\n// const url = 'https://agro-mall-market.herokuapp.com'\r\n// const url = 'http://localhost:5000'\r\n\r\nexport const fetchMarket = () => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: LOAD_REQUEST\r\n    })\r\n    const res = await axios.get('/api/v1/market')\r\n\r\n    dispatch({\r\n      type: FETCH_MARKET,\r\n      payload: res.data\r\n    })\r\n  } catch (err) {\r\n    dispatch({\r\n      type: FETCH_MARKET_ERROR\r\n    })\r\n    dispatch(\r\n      returnError(err.response.status, err.response.data, 'FETCH_MARKET_ERROR')\r\n    )\r\n  }\r\n}\r\n\r\nexport const addMarket = (data) => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: LOAD_REQUEST\r\n    })\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }\r\n    const res = await axios.post('/api/v1/market', data, config)\r\n    dispatch({\r\n      type: ADD_MARKET,\r\n      payload: res.data\r\n    })\r\n    dispatch(returnSuccess(res.status, res.data, 'ADD_MARKET_SUCESS'))\r\n  } catch (err) {\r\n    dispatch({\r\n      type: ADD_MARKET_ERROR\r\n    })\r\n    dispatch(\r\n      returnError(err.response.status, err.response.data, 'ADD_MARKET_ERROR')\r\n    )\r\n  }\r\n}\r\n\r\nexport const fetchSingleMarket = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: LOAD_REQUEST\r\n    })\r\n    const res = await axios.get(`/api/v1/market/${id}`)\r\n    dispatch({\r\n      type: FETCH_SINGLE_MARKET,\r\n      payload: res.data\r\n    })\r\n  } catch (err) {\r\n    console.log(err)\r\n    dispatch(\r\n      returnError(err.response.status, err.response.data, 'FETCH_SINGLE_MARKET_ERROR')\r\n    )\r\n    dispatch({\r\n      type: FETCH_SINGLE_MARKET_ERROR\r\n    })\r\n  }\r\n}\r\n\r\nexport const filterMarket = (name) => (dispatch) => {\r\n  dispatch({\r\n    type: FILTER_MARKET,\r\n    payload: name\r\n  })\r\n}\r\n\r\nexport const deleteMarket = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: DELETE_MARKET_REQUEST,\r\n      payload: id\r\n    })\r\n    await axios.delete(`/api/v1/market/${id}`)\r\n\r\n    dispatch({\r\n      type: DELETE_MARKET,\r\n      payload: id\r\n    })\r\n  } catch (err) {\r\n    dispatch({\r\n      type: DELETE_MARKET_ERROR,\r\n      payload: id\r\n    })\r\n    dispatch(\r\n      returnError(err.response.status, err.response.data, 'DELETE_MARKET_ERROR')\r\n    )\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport GenerateMap from '../containers/GenerateMap.jsx';\r\nimport SearchMarket from '../containers/SearchMarket';\r\nimport { fetchMarket } from '../../store/action/marketAction';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { filterMarket } from '../../store/action/marketAction.js';\r\n\r\nconst LandingPage = () => {\r\n  const [name, setName] = useState('');\r\n  const dispatch = useDispatch();\r\n  const {\r\n    market: { marketLoaded },\r\n  } = useSelector((state) => {\r\n    return {\r\n      error: state.error,\r\n      market: state.market,\r\n    };\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMarket());\r\n  }, [dispatch]);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!name) {\r\n      return;\r\n    }\r\n    dispatch(filterMarket(name));\r\n  };\r\n\r\n  return (\r\n    <div className='container my-3 mx-auto'>\r\n      <h1 className='display-4 text-center'>\r\n        <i className='fas fa-map-marked mr-4' />\r\n        Market Locator\r\n      </h1>\r\n\r\n      <form className='form' onSubmit={onSubmit}>\r\n        <div className='form-group'>\r\n          <input\r\n            type='text'\r\n            className='form-control'\r\n            placeholder='Search by market name'\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n        </div>\r\n        <button className='btn btn-secondary btn-block text-uppercase'>\r\n          Search\r\n        </button>\r\n      </form>\r\n      {/** Search result will be genearted here */}\r\n      <SearchMarket />\r\n      <GenerateMap marketLoaded={marketLoaded} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LandingPage;\r\n","import axios from 'axios'\r\nimport {\r\n  USER_LOADING,\r\n  USER_LOADED,\r\n  AUTH_REGISTER,\r\n  AUTH_ERROR,\r\n  AUTH_LOGIN,\r\n  CLEAR_ERROR,\r\n  RESET_STATE,\r\n  LOG_OUT\r\n} from './types'\r\nimport {\r\n  returnError\r\n} from './alertAction'\r\n\r\n// const url = 'http://localhost:5000'\r\n// const url = 'https://agro-mall-market.herokuapp.com'\r\n\r\nexport const loadUser = () => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_LOADING\r\n    })\r\n\r\n    const res = await axios.get(\r\n      '/api/v1/auth/secret'\r\n    )\r\n\r\n    dispatch({\r\n      type: USER_LOADED,\r\n      payload: res.data\r\n    })\r\n\r\n    dispatch({\r\n      type: CLEAR_ERROR\r\n    })\r\n  } catch (err) {\r\n    console.log(err)\r\n    dispatch(\r\n      returnError(err.response.status, err.response.data, 'LOAD_USER_FAIL')\r\n    )\r\n    dispatch({\r\n      type: AUTH_ERROR\r\n    })\r\n  }\r\n}\r\n\r\nexport const register = data => async dispatch => {\r\n  try {\r\n    dispatch({\r\n      type: USER_LOADING\r\n    })\r\n    // Headers\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      }\r\n    }\r\n    // body\r\n    const body = JSON.stringify(data)\r\n\r\n    const res = await axios.post('/api/v1/auth/signup', body, config)\r\n    dispatch({\r\n      type: AUTH_REGISTER,\r\n      payload: res.data\r\n    })\r\n\r\n    dispatch({\r\n      type: CLEAR_ERROR\r\n    })\r\n\r\n    dispatch(loadUser())\r\n  } catch (err) {\r\n    dispatch(\r\n      returnError(err.response.status, err.response.data, 'REGISTER_FAIL')\r\n    )\r\n    dispatch({\r\n      type: AUTH_ERROR\r\n    })\r\n  }\r\n}\r\n\r\nexport const login = data => async dispatch => {\r\n  try {\r\n    dispatch({\r\n      type: USER_LOADING\r\n    })\r\n    // Headers\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      }\r\n    }\r\n    // body\r\n    const body = JSON.stringify(data)\r\n\r\n    const res = await axios.post('/api/v1/auth/signin', body, config)\r\n\r\n    dispatch({\r\n      type: AUTH_LOGIN,\r\n      payload: res.data\r\n    })\r\n    dispatch({\r\n      type: CLEAR_ERROR\r\n    })\r\n    dispatch(loadUser())\r\n  } catch (err) {\r\n    dispatch(returnError(err.response.status, err.response.data, 'LOGIN_FAIL'))\r\n    dispatch({\r\n      type: AUTH_ERROR\r\n    })\r\n  }\r\n}\r\n\r\nexport const logout = () => dispatch => {\r\n  dispatch({\r\n    type: LOG_OUT,\r\n    payload: {\r\n      msg: 'Logged out successfully'\r\n    }\r\n  })\r\n}\r\n\r\nexport const resetState = () => dispatch => {\r\n  dispatch({\r\n    type: RESET_STATE\r\n  })\r\n}","import React from 'react'\r\n\r\nconst Alert = ({ message, type }) => (\r\n  <div\r\n    className={`alert btn-block p-2 alert-${\r\n      type === 'error' ? 'danger' : 'success'\r\n    }`}\r\n  >\r\n    {message}\r\n  </div>\r\n)\r\n\r\nexport default Alert\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { login } from '../../store/action/authAction'\r\nimport { clearError } from '../../store/action/alertAction'\r\nimport Alert from '../containers/Alert'\r\n\r\nconst Login = ({ history }) => {\r\n  const dispatch = useDispatch()\r\n  const [message, setMessage] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const {\r\n    alert,\r\n    auth: { isAuthenticated, isLoading }\r\n  } = useSelector((state) => {\r\n    return {\r\n      auth: state.auth,\r\n      alert: state.alert\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      history.push('/view_market')\r\n    }\r\n    return () => {\r\n      dispatch(clearError())\r\n    };\r\n  }, [isAuthenticated, history, dispatch])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (!email || !password) {\r\n      setMessage('Please, ensure fields are not empty')\r\n      return;\r\n    }\r\n    const sendOption = {}\r\n    sendOption.email = email\r\n    sendOption.password = password\r\n\r\n    dispatch(login(sendOption))\r\n  };\r\n  return (\r\n    <div className='admin py-5 mt-4 mx-auto'>\r\n      <h1 className='text-center text-uppercase'>Admin Login</h1>\r\n      <form onSubmit={handleSubmit} className='mt-3 form'>\r\n        {message !== '' ? (\r\n          alert.id === 'LOGIN_FAIL' ? (\r\n            <Alert message='Email or Password is incorrect!' type='error' />\r\n          ) : (\r\n            <Alert message={message} type='error' />\r\n          )\r\n        ) : null}\r\n        <div className='form-group'>\r\n          <label>Email</label>\r\n          <input\r\n            type='email'\r\n            name='email'\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            className='form-control'\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <label>Password</label>\r\n          <input\r\n            type='password'\r\n            name='password'\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className='form-control'\r\n          />\r\n        </div>\r\n        <button className='btn btn-block btn-secondary' disabled={!!isLoading}>\r\n          Login\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Login\r\n","import React from 'react';\r\n\r\nconst NotFound = ({ location }) => {\r\n  return (\r\n    <div className='container'>\r\n      <div className='row'>\r\n        <div className='col-10 mx-auto text-center text-capitalize text uppercase pt-5'>\r\n          <h1 className='display-3'>404</h1>\r\n          <h1>error</h1>\r\n          <h2>Page not found</h2>\r\n          <h3>\r\n            the requested URL\r\n            <span className='text-danger'>{location.pathname}</span> was not\r\n            found.\r\n          </h3>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { logout } from '../../store/action/authAction';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst Nav = () => {\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <ul className='container mx-auto navbar justify-between list-unstyled'>\r\n      <li className='nav-item'>\r\n        <NavLink to='/view_market'>View Market</NavLink>\r\n      </li>\r\n      <li className='nav-item'>\r\n        <NavLink to='/create_market'>Post Market</NavLink>\r\n      </li>\r\n      <li className='nav-item'>\r\n        <NavLink to='/login' onClick={() => dispatch(logout())}>\r\n          Logout\r\n        </NavLink>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","// @ts-nocheck\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { addMarket } from '../../store/action/marketAction'\r\nimport Nav from '../containers/Nav'\r\nimport Alert from '../containers/Alert'\r\n\r\nconst AddMarket = () => {\r\n  const dispatch = useDispatch()\r\n  const [message, setMessage] = useState('')\r\n  const [name, setName] = useState('')\r\n  const [address, setAddress] = useState('')\r\n  const [description, setDescription] = useState('')\r\n  const [image1, setImage1] = useState()\r\n  const [image2, setImage2] = useState()\r\n  const [image3, setImage3] = useState()\r\n\r\n  const {\r\n    alert,\r\n    market: { marketLoading }\r\n  } = useSelector((state) => {\r\n    return {\r\n      alert: state.alert,\r\n      market: state.market\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (alert.msg !== null) {\r\n      setMessage(alert.msg)\r\n    }\r\n  }, [setMessage, alert])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (!name || !address || !description || !image1 || !image2 || !image3) {\r\n      setMessage('Please, ensure fields are not empty')\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData()\r\n    formData.append('name', name)\r\n    formData.append('address', address)\r\n    formData.append('description', description)\r\n    formData.append('images', image1)\r\n    formData.append('images', image2)\r\n    formData.append('images', image3)\r\n\r\n    formData.getAll('images')\r\n    dispatch(addMarket(formData))\r\n  };\r\n\r\n  return (\r\n    <div className='admin py-5 mt-4 mx-auto'>\r\n      <Nav />\r\n      <h1>Add New Market</h1>\r\n\r\n      {message !== '' ? (\r\n        alert.message !== null ? (\r\n          <Alert\r\n            message={message}\r\n            type={alert.id === 'ADD_MARKET_SUCESS' ? 'success' : 'error'}\r\n          />\r\n        ) : (\r\n          <Alert message={message} type='error' />\r\n        )\r\n      ) : null}\r\n      <form className='form' onSubmit={handleSubmit}>\r\n        <div className='form-group'>\r\n          <label htmlFor='name'>Market Name</label>\r\n          <input\r\n            type='text'\r\n            onChange={(e) => setName(e.target.value)}\r\n            className='form-control'\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <label htmlFor='address'>Market Address</label>\r\n          <input\r\n            type='text'\r\n            onChange={(e) => setAddress(e.target.value)}\r\n            className='form-control'\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <label htmlFor='description'>Market Description</label>\r\n          <textarea\r\n            name='description'\r\n            className='form-control'\r\n            onChange={(e) => setDescription(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=''>\r\n          <span className='d-flex align-items-center'>\r\n            <h4>Upload Image</h4>\r\n            <small>(atleast 3 images of the market)</small>\r\n          </span>\r\n          <div>\r\n            <input\r\n              type='file'\r\n              onChange={(e) => setImage1(e.target.files[0])}\r\n              className='form-control mb-2'\r\n            />\r\n            <input\r\n              type='file'\r\n              onChange={(e) => setImage2(e.target.files[0])}\r\n              className='form-control mb-2'\r\n            />\r\n            <input\r\n              type='file'\r\n              onChange={(e) => setImage3(e.target.files[0])}\r\n              className='form-control mb-2'\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          className='btn btn-block btn-secondary text-uppercase'\r\n          disabled={!!marketLoading}\r\n        >\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default AddMarket\r\n","import React, { useEffect } from 'react'\r\nimport Nav from '../containers/Nav'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { fetchMarket, deleteMarket } from '../../store/action/marketAction'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Market = () => {\r\n  const dispatch = useDispatch()\r\n  const {\r\n    market: { marketLoaded, marketLoading }\r\n  } = useSelector((state) => {\r\n    return {\r\n      error: state.error,\r\n      market: state.market\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMarket())\r\n  }, [dispatch])\r\n\r\n  const handleDelete = (id) => {\r\n    dispatch(deleteMarket(id))\r\n  };\r\n\r\n  return (\r\n    <div className='admin py-5 mt-4 mx-auto'>\r\n      <Nav />\r\n      <div>\r\n        <h1>Registered Market(s)</h1>\r\n        <ul className='list-group my-3'>\r\n          {marketLoading ? (\r\n            <li>\r\n              <h3>Loading</h3>\r\n            </li>\r\n          ) : (\r\n            marketLoaded &&\r\n            marketLoaded.map((market) => {\r\n              return (\r\n                <li\r\n                  className='list-group-item d-flex justify-content-between align-items-center'\r\n                  key={market._id}\r\n                >\r\n                  {market.name}\r\n                  <span\r\n                    className='btn badge badge-danger badge-pill'\r\n                    onClick={() => handleDelete(market._id)}\r\n                  >\r\n                    {market.deleting ? (\r\n                      <Link to='#'>Delete...</Link>\r\n                    ) : (\r\n                      <Link to='#'>\r\n                        <em>Delete</em>\r\n                      </Link>\r\n                    )}\r\n                  </span>\r\n                </li>\r\n              )\r\n            })\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Market\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchSingleMarket } from '../../store/action/marketAction';\r\n\r\nimport GenerateMap from '../containers/GenerateMap';\r\n\r\nconst DetailsMarket = ({ match }) => {\r\n  const dispatch = useDispatch();\r\n  const { id } = match.params;\r\n  const {\r\n    market: { singleMarket, marketLoading },\r\n  } = useSelector((state) => {\r\n    return {\r\n      market: state.market,\r\n    };\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchSingleMarket(id));\r\n  }, [dispatch, id]);\r\n\r\n  return marketLoading ? (\r\n    <p className='lead mt-5 text-center'>Loading...</p>\r\n  ) : singleMarket !== null ? (\r\n    <div className='mt-5 container'>\r\n      <button className='btn btn-secondary text-white'>\r\n        <Link to='/'>Back to homepage</Link>\r\n      </button>\r\n      <h1 className='text-capitalize my-4'>{singleMarket.name}</h1>\r\n\r\n      <div className='row'>\r\n        <div className='sub-division col-md-6 col-12'>\r\n          <i className='fas fa-map-marker-alt fa-2x mr-3' />\r\n          <span>\r\n            <h4>Address</h4>\r\n            <p>{singleMarket.location.formattedAddress}</p>\r\n          </span>\r\n        </div>\r\n        <div className='col-md-6 col-12'>\r\n          <h4>Description</h4>\r\n          <p>{singleMarket.description}</p>\r\n        </div>\r\n        <div className='row mx-auto'>\r\n          {singleMarket.image.map((image, index) => {\r\n            return (\r\n              <div className='card card-image col-12 col-md-4' key={index}>\r\n                <img src={image.url} alt='' className='img-fluid' />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      <GenerateMap marketLoaded={[singleMarket]} />\r\n    </div>\r\n  ) : (\r\n    <h1 className='text-capilize my-5 text-center'>\r\n      Oops!, you've made a bad request\r\n    </h1>\r\n  );\r\n};\r\n\r\nexport default DetailsMarket;\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const {\r\n    auth: { isAuthenticated, token }\r\n  } = useSelector((state) => {\r\n    return {\r\n      auth: state.auth\r\n    }\r\n  })\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        !token && isAuthenticated ? (\r\n          <Redirect to='/' />\r\n        ) : (\r\n          <Component {...props} />\r\n      )}\r\n    />\r\n  )\r\n};\r\n\r\nexport default React.memo(PrivateRoute)\r\n","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\n\r\nimport Login from '../pages/Login'\r\nimport NotFound from '../pages/NotFound'\r\nimport AddMarket from '../pages/AddMarket'\r\nimport Market from '../pages/Market'\r\nimport DetailsMarket from '../pages/DetailsMarket'\r\nimport PrivateRoute from './PrivateRoute'\r\n\r\nconst Routers = () => {\r\n  return (\r\n    <section>\r\n      <Switch>\r\n        <Route exact path='/login' component={Login} />\r\n        <PrivateRoute exact path='/create_market' component={AddMarket} />\r\n        <PrivateRoute exact path='/view_market' component={Market} />\r\n        <Route exact path='/details/:id' component={DetailsMarket} />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </section>\r\n  )\r\n};\r\n\r\nexport default Routers\r\n","import axios from 'axios'\r\n\r\nconst setAuthToken = token => {\r\n    if (token) {\r\n        axios.defaults.headers = {\r\n            \"Content-Type\": \"application/json\",\r\n            \"authorization\": token\r\n        };\r\n    } else {\r\n        localStorage.removeItem('token')\r\n        delete axios.defaults.headers['authorization']\r\n    }\r\n}\r\n\r\nexport default setAuthToken","import {\r\n  AUTH_LOGIN,\r\n  AUTH_REGISTER,\r\n  REGISTER_FAIL,\r\n  LOGIN_FAIL,\r\n  LOG_OUT,\r\n  USER_LOADED,\r\n  USER_LOADING,\r\n  AUTH_ERROR,\r\n  RESET_STATE\r\n} from '../action/types'\r\n\r\nconst initState = {\r\n  token: localStorage.getItem('token'),\r\n  isLoading: false,\r\n  user: null,\r\n  msg: '',\r\n  isAuthenticated: false\r\n}\r\n\r\nexport default (state = initState, action) => {\r\n  const {\r\n    type,\r\n    payload\r\n  } = action\r\n\r\n  switch (type) {\r\n    case USER_LOADING:\r\n      return {\r\n        ...state,\r\n        isLoading: true\r\n      }\r\n    case USER_LOADED:\r\n      return {\r\n        ...state,\r\n        user: payload.data,\r\n        isAuthenticated: true,\r\n        isLoading: false\r\n      }\r\n    case AUTH_REGISTER:\r\n    case AUTH_LOGIN:\r\n      localStorage.setItem('token', payload.token)\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        token: localStorage.getItem('token'),\r\n        user: payload.data,\r\n        msg: payload.msg,\r\n        isAuthenticated: true\r\n      }\r\n    case RESET_STATE:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        user: null,\r\n        msg: '',\r\n        isAuthenticated: false\r\n      }\r\n    case REGISTER_FAIL:\r\n    case LOGIN_FAIL:\r\n    case AUTH_ERROR:\r\n    case LOG_OUT:\r\n      localStorage.removeItem('token')\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        isLoading: false,\r\n        user: null,\r\n        token: null\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import {\r\n  ALERT_ERROR,\r\n  ALERT_SUCCESS,\r\n  CLEAR_ERROR\r\n} from '../action/types'\r\n\r\nconst initialState = {\r\n  msg: null,\r\n  status: null,\r\n  id: null\r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case ALERT_ERROR:\r\n    case ALERT_SUCCESS:\r\n      return {\r\n        msg: action.payload.msg,\r\n        status: action.payload.status,\r\n        id: action.payload.id\r\n      }\r\n        case CLEAR_ERROR:\r\n      return {\r\n        msg: null,\r\n        status: null,\r\n        id: null\r\n      }\r\n\r\n        default:\r\n      return state\r\n  }\r\n}\r\n","import {\r\n  FETCH_MARKET,\r\n  ADD_MARKET,\r\n  DELETE_MARKET,\r\n  FETCH_MARKET_ERROR,\r\n  ADD_MARKET_ERROR,\r\n  DELETE_MARKET_ERROR,\r\n  LOAD_REQUEST,\r\n  DELETE_MARKET_REQUEST,\r\n  FILTER_MARKET,\r\n  FETCH_SINGLE_MARKET,\r\n  FETCH_SINGLE_MARKET_ERROR\r\n} from '../action/types'\r\n\r\nconst initState = {\r\n  marketLoading: false,\r\n  marketLoaded: [],\r\n  filterMarket: null,\r\n  singleMarket: null\r\n}\r\n\r\nexport default (state = initState, action) => {\r\n  switch (action.type) {\r\n    case LOAD_REQUEST:\r\n      return {\r\n        ...state,\r\n        marketLoading: true\r\n      }\r\n    case FETCH_MARKET:\r\n      return {\r\n        ...state,\r\n        marketLoading: false,\r\n        marketLoaded: action.payload.data\r\n      }\r\n    case ADD_MARKET:\r\n      return {\r\n        ...state,\r\n        marketLoading: false,\r\n        marketLoaded: [...state.marketLoaded, action.payload.data]\r\n      }\r\n    case DELETE_MARKET_REQUEST:\r\n      return {\r\n        ...state,\r\n        marketLoaded: state.marketLoaded.map(mark => mark._id === action.payload ? {\r\n          ...mark,\r\n          deleting: true\r\n        } : mark)\r\n      }\r\n    case DELETE_MARKET:\r\n      return {\r\n        ...state,\r\n        marketLoading: false,\r\n        marketLoaded: state.marketLoaded.filter(\r\n          (item) => item._id !== action.payload\r\n        )\r\n      }\r\n    case FETCH_MARKET_ERROR:\r\n    case ADD_MARKET_ERROR:\r\n    case FETCH_SINGLE_MARKET_ERROR:\r\n      return {\r\n        ...state,\r\n        marketLoading: false\r\n      }\r\n    case DELETE_MARKET_ERROR:\r\n      // remove 'deleting:true' property and add 'deleteError:[error]' property\r\n      return {\r\n        ...state,\r\n        marketLoading: false,\r\n        marketLoaded: state.marketLoaded.map(mark => {\r\n          if (mark._id === action.payload) {\r\n            return (mark.deleting = false)\r\n          }\r\n          return mark\r\n        })\r\n      }\r\n    case FILTER_MARKET:\r\n      return {\r\n        ...state,\r\n        filterMarket: state.marketLoaded.filter(search => {\r\n          return search.name.toLowerCase().match(action.payload.toLowerCase())\r\n        })\r\n      }\r\n    case FETCH_SINGLE_MARKET:\r\n      return {\r\n        ...state,\r\n        marketLoading: false,\r\n        singleMarket: action.payload.data\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import {\r\n  combineReducers\r\n} from 'redux'\r\nimport authReducer from './authReducer'\r\nimport alertReducer from './alertReducer'\r\nimport marketReducer from './marketReducer'\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  alert: alertReducer,\r\n  market: marketReducer\r\n})\r\n","import {\r\n    createStore,\r\n    applyMiddleware,\r\n    compose\r\n} from 'redux';\r\nimport thunk from 'redux-thunk'\r\nimport rootReducer from './reducer'\r\n\r\nconst middleWare = [thunk]\r\n\r\nconst composeEnhances = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst initState = {}\r\n\r\nconst store = createStore(rootReducer, initState, composeEnhances(applyMiddleware(...middleWare)))\r\n\r\nexport default store;","import React, { useEffect } from 'react'\nimport { Switch, BrowserRouter as Router, Route } from 'react-router-dom'\nimport LandingPage from './components/pages/LandingPage'\nimport Routes from './components/routes/Routes'\nimport { loadUser } from './store/action/authAction'\nimport setAuthToken from './components/utils/setAuthToken'\nimport store from './store/store'\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.css'\n\nfunction App () {\n  useEffect(() => {\n    store.dispatch(loadUser())\n    setAuthToken(localStorage.token)\n  }, [])\n  return (\n    <Router>\n      <>\n        <Switch>\n          <Route exact path='/' component={LandingPage} />\n          <Route component={Routes} />\n        </Switch>\n      </>\n    </Router>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport store from './store/store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}